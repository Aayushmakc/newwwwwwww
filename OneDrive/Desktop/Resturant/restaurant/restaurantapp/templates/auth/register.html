{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Register</title>
    <!-- bootstrap cdn link -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

    <!-- Alertify JavaScript -->
    <script src="//cdn.jsdelivr.net/npm/alertifyjs@1.14.0/build/alertify.min.js"></script>

  <!-- Alertify CSS -->
   <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/alertifyjs@1.14.0/build/css/alertify.min.css"/>
    <!-- custom css -->
    <link rel="stylesheet" href="{% static 'css/auth.css' %}">

    <!-- FontAwesome link here -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <style>
        .cross{
            position: absolute;
            right: 10px;
            top:5px;
            font-size: 30px;
            color: aqua;
        }
        .cross:hover{
            color: rgb(15, 82, 82);
            scale:1.2;
        }
    </style>
  </head>
  <body>
    <!-- Logo in the top-left corner -->
    <div class="logo-container">
      <img src="{% static 'images/logo.png' %}" alt="Logo" class="logo">
    </div>

    <div class="main">
      <!-- From Uiverse.io by ammarsaa -->
      <form class="form" method="post" action="{% url 'register' %}">
          {%csrf_token%}
        <a href="{% url 'index' %}"><h1 class="cross"><i class="fa-solid fa-xmark"></i></h1></a>
        <p class="title">Register</p>
        <p class="message">Signup now and get full access to our app.</p>
        <div class="flex">
          <label>
            <input class="input" type="text" name="first_name" placeholder="" required="" />
            <span>Firstname</span>
          </label>

          <label>
            <input class="input" type="text" name="last_name" placeholder="" required="" />
            <span>Lastname</span>
          </label>
        </div>
        <label>
            <input class="input" type="text" name="username" placeholder="" required="" />
            <span>Username</span>
          </label>

        <label>
          <input class="input" type="email"  name="email" placeholder="" required="" />
          <span>Email</span>
        </label>

        <label>
          <input class="input" type="password" name="password" id="password" placeholder="" required="" />
          <span>Password</span>
          <i class="fa-solid fa-eye" id="togglePassword"></i>
      </label>
      
      <label>
          <input class="input" type="password" name="password1" id="password1" placeholder="" required="" />
          <span>Confirm password</span>
          <i class="fa-solid fa-eye" id="togglePassword1"></i>
      </label>
        <button class="submit">Submit</button>
        <p class="signin">Already have an account? <a href="{% url 'log_in' %}">Signin</a></p>
      </form>
    </div>

    <!-- Copyright footer -->
    <footer class="footer">
      <p>&copy; {{date.year}}MomoHub. All rights reserved.</p>
    </footer>
    {% if messages %}
    {% for message in messages %}
      {% if message.tags == 'success' %}
        <script>
          alertify.set('notifier', 'position', 'bottom-right');
          alertify.success('{{ message }}');
        </script>
      {% else %}
        <script>
          alertify.set('notifier', 'position', 'bottom-right');
          alertify.error('{{ message }}');
        </script>
      {% endif %}
    {% endfor %}
  {% endif %}
  
<script>
  document.getElementById("togglePassword").addEventListener("click", function () {
    const passwordField = document.getElementById("password");
    const icon = document.getElementById("togglePassword");

    // Toggle the password visibility
    if (passwordField.type === "password") {
      passwordField.type = "text";
      icon.classList.replace("fa-eye", "fa-eye-slash");  // Change icon to eye-slash
    } else {
      passwordField.type = "password";
      icon.classList.replace("fa-eye-slash", "fa-eye");  // Change icon back to eye
    }
  });

  document.getElementById("togglePassword1").addEventListener("click", function () {
    const passwordField = document.getElementById("password1");
    const icon = document.getElementById("togglePassword1");

    // Toggle the password visibility
    if (passwordField.type === "password") {
      passwordField.type = "text";
      icon.classList.replace("fa-eye", "fa-eye-slash");  // Change icon to eye-slash
    } else {
      passwordField.type = "password";
      icon.classList.replace("fa-eye-slash", "fa-eye");  // Change icon back to eye
    }
  });
</script>

  </body>
</html> 